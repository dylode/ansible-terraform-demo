---
providers:
  - name: digitalocean01
    type: digitalocean
    vars:
      token: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          35646238313431373637646236623166613764323262363961303162356633383665393466393866
          6636316633663930656162623933323139316535616632390a633638326163363934633363306365
          32653333333130643931383131656337313565623666666363663537643164633830363565623035
          6664343433386563340a613331666330623335613565303161343639383130393931336134376236
          36346430353839386231386165633063643834656663616438366431323630303961303063616433
          33303666396231363635316331333866613162633335383435623936313661383332653433313536
          39646131383662633861326530353561343132303461653132336437393061623536313366363036
          39643430336264356331
      ssh_keys: 
        - f1:77:5a:66:bf:57:d0:a9:b1:8b:03:e1:7f:35:c8:62
    resources:
      - name: webserver
        state: present
        type: droplet
        image: debian-11-x64
        region: fra1
        size: s-1vcpu-512mb-10gb
        count: 2
        groups:
          - webserver
          - monitored
      - name: database
        state: absent
        type: droplet
        image: debian-11-x64
        region: fra1
        size: s-1vcpu-512mb-10gb
        groups:
          - database
          - monitored
  - name: hetzner01
    type: hetzner
    vars:
      token: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          34613262626666613335376465626265343338613963356539303932343263303161356365623764
          3636613631393239663432646564633662646661303735650a376437613934353530653034333366
          61356463626462303531633835306535346339663034636136363863356163316235356439343864
          6533306432653838640a336239346430613665363862343739383030393836613735366666646237
          66323766366331656538623536616466393165656665383039313166326564636436373837366330
          65323266653266376161383932313033393734316537646330363337343537393036653833623038
          61343564303635343063616638323363363263356162626164376337313065346438333136666535
          35646166333561656362
      ssh_keys:
        - dylan@dylan-mint
    resources:
      - name: webserver
        state: present
        type: server
        image: debian-11
        location: fsn1
        server_type: cx11
        count: 2
        groups:
          - webserver
          - monitored
      - name: database
        state: absent
        type: server
        image: debian-11
        location: fsn1
        server_type: cx11
        count: 3
        groups:
          - database
          - monitored
  - name: linode01
    type: linode
    vars:
      token: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          36313166393863373965356564363762346637353733663934623630613636663130643930356337
          6536306666613235373465396131656334643737313864300a636330386566336338336362376432
          63623866383538383136666334323762363231643135643364376332373432303961353639393535
          3666313532656262610a666465633630363136383036663164383166333133346464636165623034
          64363566306230323562653132366133333238323130366232333663663763643934323062373364
          39353934616566346661333033356262343839353931623431393935383834336364373864643234
          61616339356462343434353861396232616636366163363461306432303664653163623932663165
          31393731613765376138
      ssh_keys:
        - !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          64646634666637633166653734343364663733386264306137396266306432663066323364633437
          6330666264396535303635663462663739326361363162620a353336323965336161666538386131
          35633837333335326162373436666339363862393536336133626664353966633038333161323937
          6438363535643562610a386633616535373766386631656233666630623361346461633338343461
          38383536666435393735323238633062373139636234313731663032663034346537613432353633
          62323363333161636331643333663736633637373862366163373364643763613434326263396136
          63613830306538393831386165343934326234666662646333646238333933336131393035623763
          36313536373339636135653633383065363830363532663861623665316137656566396236333666
          36333661303431353132326333343832313265343238306266643039313661366466386337643936
          32356261363530623562313730666166333030393662633631313631356533363836336138343532
          34343330363766653630393639316336363238643463353661656333393635313733363238396131
          31643833623461386166383534613637353234366236646565343864666331343566623833653832
          31396132303534366533343165666363373539313933343536633461646364353166613164616463
          62383230333631323034323735656661633466373439373937383561343134313563666131383335
          66653363656564383032333638623134613466646634356531663766306465323661393164666238
          66376565616661393430313236393836353430363061653364393934623263383330623631656331
          31363934373664353238616466396536323261313333613436323966663236353339363434613961
          30623462323833393138633230613538393036393132363330353735616233623062326639666637
          64356637616165366666373739306462396538666237313365623064653338343662343963386432
          33333163353434333864633764636661633962323734616565363862333731383731346365346639
          64653562633937643930386266313861623839353138616461376639383030396638323138636431
          31643362393363646364363830333633313439383063356333363434373733343430613666373062
          66333230373733663664333936623063343037666163393864363232386633373639353561343539
          63303133333539623334
    resources:
      - name: webserver
        state: absent
        type: instance
        count: 2
        image: linode/debian11
        region: eu-west
        instance_type: g6-nanode-1
        groups:
          - monitored
          - webserver
  - name: pve01
    type: proxmox
    vars:
      api_url: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          65346532366664343433396462663565643537623535616661346536393635336433326637666438
          3734616361353931333861356133626362333430356634320a366134383963633565306631623462
          64376164353239326137313536353935653138353862373833643964656563633062643138396366
          6166623031663834330a303033333333366563616266636130643532383865333965333638653364
          61666337393665323038373933356564366133396363356566626466303630363864646138303264
          6531353235323566373632643064386166663339373238396565
      token_id: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          64656632623165633062333233663931343432633838326535316139313765363634633330613061
          6562303135333630326232366561356634356435633336320a386237663931373837616464393639
          39373031323438383636613364336230306165366165393265333839376432353035333430393335
          6566383837306161390a616531373335653738336238616164306563643064393762633839333564
          61646537333531653265663066623937663131626166636130636366373365396362
      token_secret: !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          35303030313731623638666439376537336439356239623733323534396437623834386166326366
          3162323339396537323132366633313535313434643935370a623637326533653530343562373634
          61653138376530653334343138386236346465343663373634663263656632393861303562366634
          3430363836356337640a633535316331333737366164613534623934666137653239396166366333
          64613732346336343564316532333862383964643863333665653636316564336166363732376534
          3530333531333662643337326463393435613732393230383563
      target_node: pve01
      defaults:
        template_storage: dylan_additional_storage
        disk_storage: dylan_storage
        pool: ansible_terraform_pool
        lxc_network:
          name: eth0
          bridge: vmbr100
      ssh_keys:
        - !vault |
          $ANSIBLE_VAULT;1.2;AES256;demo
          64646634666637633166653734343364663733386264306137396266306432663066323364633437
          6330666264396535303635663462663739326361363162620a353336323965336161666538386131
          35633837333335326162373436666339363862393536336133626664353966633038333161323937
          6438363535643562610a386633616535373766386631656233666630623361346461633338343461
          38383536666435393735323238633062373139636234313731663032663034346537613432353633
          62323363333161636331643333663736633637373862366163373364643763613434326263396136
          63613830306538393831386165343934326234666662646333646238333933336131393035623763
          36313536373339636135653633383065363830363532663861623665316137656566396236333666
          36333661303431353132326333343832313265343238306266643039313661366466386337643936
          32356261363530623562313730666166333030393662633631313631356533363836336138343532
          34343330363766653630393639316336363238643463353661656333393635313733363238396131
          31643833623461386166383534613637353234366236646565343864666331343566623833653832
          31396132303534366533343165666363373539313933343536633461646364353166613164616463
          62383230333631323034323735656661633466373439373937383561343134313563666131383335
          66653363656564383032333638623134613466646634356531663766306465323661393164666238
          66376565616661393430313236393836353430363061653364393934623263383330623631656331
          31363934373664353238616466396536323261313333613436323966663236353339363434613961
          30623462323833393138633230613538393036393132363330353735616233623062326639666637
          64356637616165366666373739306462396538666237313365623064653338343662343963386432
          33333163353434333864633764636661633962323734616565363862333731383731346365346639
          64653562633937643930386266313861623839353138616461376639383030396638323138636431
          31643362393363646364363830333633313439383063356333363434373733343430613666373062
          66333230373733663664333936623063343037666163393864363232386633373639353561343539
          63303133333539623334
    resources:
      - name: webserver
        state: absent
        type: lxc
        count: 2
        template: debian-11-standard_11.6-1_amd64.tar.zst
        size: 4G
        network:
          vlan_tag: 10
          gateway: 10.187.10.1
          ip: 
            - 10.187.10.30/24
            - 10.187.10.31/24
            - 10.187.10.32/24
            - 10.187.10.33/24
            - 10.187.10.34/24
        groups:
          - webserver
          - monitored
      - name: database
        state: absent
        type: vm
        count: 6
        cloudinit_template: debian-11-cloudinit
        cores: 2
        memory: 2048
        network:
          vlan_tag: 10
          gateway: 10.187.10.1
          ip: 
            - 10.187.10.40/24
            - 10.187.10.41/24
            - 10.187.10.42/24
            - 10.187.10.43/24
            - 10.187.10.44/24
            - 10.187.10.45/24
        disks:
          - slot: 0
            size: 4G
        groups:
          - database
          - monitored
          - webserver


